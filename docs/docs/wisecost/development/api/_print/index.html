<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.121.2">
<link rel="canonical" type="text/html" href="/docs/wisecost/development/api/">
<link rel="alternate" type="application/rss&#43;xml" href="/docs/wisecost/development/api/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>API Documentation | Wiseinf</title>
<meta name="description" content="One-stop cloud native application cost monitoring, management and optimization platform API documentation.
">
<meta property="og:title" content="API Documentation" />
<meta property="og:description" content="One-stop cloud native application cost monitoring, management and optimization platform API documentation.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs/wisecost/development/api/" /><meta property="og:site_name" content="Wiseinf" />

<meta itemprop="name" content="API Documentation">
<meta itemprop="description" content="One-stop cloud native application cost monitoring, management and optimization platform API documentation.
"><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="API Documentation"/>
<meta name="twitter:description" content="One-stop cloud native application cost monitoring, management and optimization platform API documentation.
"/>




<link rel="preload" href="/scss/main.min.b9f908f9939278827beae3d5d8ede093dde52fd2c4bcdf7ba620a3d524d46875.css" as="style">
<link href="/scss/main.min.b9f908f9939278827beae3d5d8ede093dde52fd2c4bcdf7ba620a3d524d46875.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-STB7S5D1BR"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-STB7S5D1BR');
}
</script>
  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="90" height="60" viewBox="0 0 90 60" enable-background="new 0 0 90 60"><image id="image0" width="90" height="60" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAA8CAMAAADR2113AAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEUAAAA/R8s/ScwAoeci u1UisEwisEwzzGYhsUshsUwisUsAf38hsUshsEsisEwAqlUhsEwhsEshsU0isUoisUwA/wA/SMwA ougisUyZ2er///8l8mu7AAAAFnRSTlMAmUyZD4XZBWzxfQKoqKMDgutMd6EBrgesWwAAAAFiS0dE GnVn5DIAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAHdElNRQfmCwIILDYpiAQqAAAAuElEQVRYw+3V yQ7CMAxFUQMZmpZOKQXz/z8KRYLSxrCAFwkJ322ks4jimGhqc5TaTke7kxTNGet4yllDQp/Tvgh8 L5QVkt7zczWO9kuZuWlRdMHrOhBtQkL3HkNbTrMY2gm0w9AsBaGjSMf/pTPedc4XkvFdZ5xGKhN6 QH1PVb2SDyOKJmqWMhGObrt+vudhRNLXdfDYjZ4IS9/mMkZ60bf0m5T+efospbTSSiuttNJKK620 0kpnoC8F20SzlPhKcAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0xMS0wMlQwODo0NDo1NCswMDow MEh3G+0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMTEtMDJUMDg6NDQ6NTQrMDA6MDA5KqNRAAAA KHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIyLTExLTAyVDA4OjQ0OjU0KzAwOjAwbj+CjgAAAABJRU5E rkJggg=="/></svg></span><span class="navbar-brand__name">Wiseinf</span></a>
<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
  <ul class="navbar-nav mt-2 mt-lg-0">
    <li class="nav-item dropdown mr-4 d-none d-lg-block">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false"><span>Product</span></a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
        <a class="dropdown-item" href="/products/cluster-optimizer"> Cluster Optimizer: Cloud Native Optimization Platform </a>
        <a class="dropdown-item" href="/products/wisecost"> Wisecost: Cloud Native Cost Management Platform </a>
        <a class="dropdown-item" href="/products/ruyi"> Ruyi: Cloud Native Cluster Autoscaling Engine</a>
      </div>
      </li>
      
      <li class="nav-item mr-4 mb-2 mb-lg-0">
      <a class="nav-link active" href="/docs/"><span class="active">Documentation</span></a>
      </li>
      
      <li class="nav-item mr-4 mb-2 mb-lg-0">
      <a class="nav-link" href="/pricing/"><span>Price</span></a>
      </li>
      
      <li class="nav-item mr-4 mb-2 mb-lg-0">
      <a class="nav-link" href="/services/"><span>Service</span></a>
      </li>
      <li class="nav-item dropdown mr-4 d-none d-lg-block">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/zh-cn/docs/wisecost/development/api/">中文</a>
	
</div></li>
    </ul>
</div>
<div class="navbar-nav d-none d-lg-block">
  
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/wisecost/development/api/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">API Documentation</h1>
<div class="lead">One-stop cloud native application cost monitoring, management and optimization platform API documentation.</div>




    <ul>
    
  
  
  
  

  

    </ul>


<div class="content">
      

<div class="pageinfo pageinfo-primary">
<p>This section describes Wisecsost API related documentation.</p>

</div>

<h2 id="overview">Overview</h2>
<p>Wisecost API mainly provides multi-dimensional cost query and cost decomposition query for clusters, nodes and containers.</p>
<p>Wisecost API is mainly implemented through HTTP. For its API documentation, please see the link: Users can generate client code through tools such as Swagger Editor/Codegen.</p>
<p>For details, see Import Cluster <a href="/docs/wisecost/import-aliyun">Import Alibaba Cloud Cluster</a></p>
<p>The download address of the API interface document is as follows: <a href="/api/v1/openapi.json">Wisecost API interface</a></p>
<h2 id="general-parameter-description">General parameter description</h2>
<p>| Parameter name | Description | Default value | Example |
|&mdash;&mdash;&mdash;&ndash;|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;|&mdash;&mdash;&mdash;&ndash;|&mdash;&mdash;- &mdash;&mdash;&mdash;-|
| window | Query window range | None | 1. Time range format: mainly used to describe absolute time, such as 2023-05-24T18%3A00%3A00%2B08%3A00%2C2023-05-25T00%3A00%3A00%2B08%3A00 <br>2. Time expression: 1d, 1h, lastday, lastweek, etc. |
| align | Time alignment, mainly used for time expressions, truncates the current time, and uses the truncated time as the current time to calculate the time expression. When the truncated time does not change, the query results will not change. | 1m | For example 1h, 1m |
| step | Query step size, this value must be less than or equal to the time window range | Query window range | 1d |
| resolution | Prometheus resolution | 2m | 2m |
| aggregate | Aggregation parameters, cluster cost, node cost and container cost aggregation parameter have different values ​​| None | 1. cluster: Aggregate by cluster. <br/>2. namespace: Aggregation by namespace<br/> 3. cluster,namespace: Aggregation by cluster and namespace |
| filter | Filter parameters, cluster cost, node cost and container cost filter parameter values ​​are different | None | |</p>
<p>All parameters are URL encoded.</p>
<h2 id="cluster-cost-api">Cluster cost API</h2>
<h3 id="query-cluster-cost">Query cluster cost</h3>
<p>Endpoint: /api/cluster</p>
<h4 id="example-1-query-the-cost-of-cluster-test1-in-the-past-hour">Example 1: Query the cost of cluster <code>test1</code> in the past hour</h4>
<p>ask:</p>
<pre tabindex="0"><code>${HOST}/api/cluster/window=1h&amp;filter=cluster:test1`
</code></pre><p>The response includes the time window of the query, the corresponding cost of CPU, memory, storage and network.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;test1&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;window&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-04T14:37:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-04T15:37:00Z&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-04T14:37:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-04T15:37:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreHours&#34;</span>: <span style="color:#ae81ff">0.1022572407401936</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreUsageAverage&#34;</span>: <span style="color:#ae81ff">0.0511286203700968</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuUsage&#34;</span>: <span style="color:#ae81ff">0.004876883689704125</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuLimitCost&#34;</span>: <span style="color:#ae81ff">0.09538461343964662</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.00024035371519684083</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuActualCost&#34;</span>: <span style="color:#ae81ff">0.00024035371519684083</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryByteHours&#34;</span>: <span style="color:#ae81ff">1970868694.0327873</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">1970868694.0327873</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryUsage&#34;</span>: <span style="color:#ae81ff">0.029179973608599755</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryLimitCost&#34;</span>: <span style="color:#ae81ff">0.06358974229309775</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.0014381140729231169</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryActualCost&#34;</span>: <span style="color:#ae81ff">0.0014381140729231169</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageByteHours&#34;</span>: <span style="color:#ae81ff">12.501899906846337</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkUsage&#34;</span>: <span style="color:#ae81ff">0.0523391093881065</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.0026294713433894375</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkActualCost&#34;</span>: <span style="color:#ae81ff">0.0026294713433894375</span>,
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h4 id="example-2-query-the-cost-of-the-cluster-in-april-2023-in-steps-of-1-day">Example 2: Query the cost of the cluster in April 2023, in steps of 1 day</h4>
<p>The request is as follows, where, <code>window=2023-04-01T00%3A00%3A00%2B08%3A00%2C2023-04-30T23%3A59%3A59%2B08%3A00</code> is <code>window=2023-04-01T00:00: 00+08:00,2023-05-01T00:00:00+08:00</code> URL encoding, <code>step=1d</code> means the step is 1 day.</p>
<pre tabindex="0"><code>${HOST}/api/cluster?window=2023-04-01T00%3A00%3A00%2B08%3A00%2C2023-04-30T23%3A59%3A59%2B08%3A00&amp;step=1d
</code></pre><p>The response includes a daily cost.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;test1&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;window&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-04-16T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-04-17T00:00:00+08:00&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-04-16T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-04-17T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreHours&#34;</span>: <span style="color:#ae81ff">2.39842986589827</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreUsageAverage&#34;</span>: <span style="color:#ae81ff">0.049967288872880634</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuUsage&#34;</span>: <span style="color:#ae81ff">0.114386652810405</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuLimitCost&#34;</span>: <span style="color:#ae81ff">2.289230722551519</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.0056374641515348455</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuActualCost&#34;</span>: <span style="color:#ae81ff">0.0056374641515348455</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryByteHours&#34;</span>: <span style="color:#ae81ff">46971476835.98894</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">1957144868.1662054</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryUsage&#34;</span>: <span style="color:#ae81ff">0.6954428057947072</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryLimitCost&#34;</span>: <span style="color:#ae81ff">1.5261538150343459</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.034274399947769485</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryActualCost&#34;</span>: <span style="color:#ae81ff">0.034274399947769485</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageByteHours&#34;</span>: <span style="color:#ae81ff">296.0557048723639</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageLimitCost&#34;</span>: <span style="color:#ae81ff">0.38230305987834323</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageUsage&#34;</span>: <span style="color:#ae81ff">0.11789896027827546</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.005920212076830545</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageActualCost&#34;</span>: <span style="color:#ae81ff">0.005920212076830545</span>,<span style="color:#f92672">&#34;networkUsage&#34;</span>: <span style="color:#ae81ff">1.2561386253145561</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.0631073122413465</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkActualCost&#34;</span>: <span style="color:#ae81ff">0.0631073122413465</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;test1&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;window&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-04-17T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-04-18T00:00:00+08:00&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-04-17T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-04-18T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreHours&#34;</span>: <span style="color:#ae81ff">2.4017858534989167</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreUsageAverage&#34;</span>: <span style="color:#ae81ff">0.05003720528122743</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuUsage&#34;</span>: <span style="color:#ae81ff">0.11454670760040295</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuLimitCost&#34;</span>: <span style="color:#ae81ff">2.289230722551519</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.005645352337076829</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuActualCost&#34;</span>: <span style="color:#ae81ff">0.005645352337076829</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryByteHours&#34;</span>: <span style="color:#ae81ff">46969022844.09973</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">1957042618.5041554</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryUsage&#34;</span>: <span style="color:#ae81ff">0.6954064728726917</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryLimitCost&#34;</span>: <span style="color:#ae81ff">1.5261538150343459</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.03427260930576406</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryActualCost&#34;</span>: <span style="color:#ae81ff">0.03427260930576406</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageByteHours&#34;</span>: <span style="color:#ae81ff">296.51888150455557</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageLimitCost&#34;</span>: <span style="color:#ae81ff">0.38230305987834323</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageUsage&#34;</span>: <span style="color:#ae81ff">0.11808341219884944</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.005929474198270796</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageActualCost&#34;</span>: <span style="color:#ae81ff">0.005929474198270796</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkUsage&#34;</span>: <span style="color:#ae81ff">1.2561386253145561</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.0631073122413465</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;networkActualCost&#34;</span>: <span style="color:#ae81ff">0.0631073122413465</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h3 id="query-cluster-cost-breakdown">Query cluster cost breakdown</h3>
<p>Endpoint: /api/cluster/breakdown</p>
<blockquote>
<p>TBD</p>
</blockquote>
<h2 id="node-cost-api">Node Cost API</h2>
<h3 id="query-node-cost">Query node cost</h3>
<p>Example: Query the costs on May 21, 2023, and aggregate them in the cluster dimension</p>
<p>The query request is as follows, <code>aggregate=cluster</code> means to aggregate the cost in the cluster dimension.</p>
<pre tabindex="0"><code>${HOST}/api//node?window=2023-05-21T00%3A00%3A00%2B08%3A00%2C2023-05-22T00%3A00%3A00%2B08%3A00&amp;aggregate=cluster&amp;step=1d
</code></pre><p>The response is as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;test1&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;window&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-21T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-22T00:00:00+08:00&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-21T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-22T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreHours&#34;</span>: <span style="color:#ae81ff">10191.999645820562</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuCoreUsageAverage&#34;</span>: <span style="color:#ae81ff">11.849338429255141</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuUsage&#34;</span>: <span style="color:#ae81ff">1398.9775682219886</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuLimitCost&#34;</span>: <span style="color:#ae81ff">15249.214211755743</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuDiscountedCost&#34;</span>: <span style="color:#ae81ff">381.60351525705556</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;cpuActualCost&#34;</span>: <span style="color:#ae81ff">28.957126887351876</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryByteHours&#34;</span>: <span style="color:#ae81ff">75542324732065.4</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">3204178398788.0137</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryUsage&#34;</span>: <span style="color:#ae81ff">1112.9733948614235</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryLimitCost&#34;</span>: <span style="color:#ae81ff">3346.309071231689</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryDiscountedCost&#34;</span>: <span style="color:#ae81ff">319.71875931585464</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;memoryActualCost&#34;</span>: <span style="color:#ae81ff">30.702726624974325</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;gpuLimitCost&#34;</span>: <span style="color:#ae81ff">8510.219221802927</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageByteHours&#34;</span>: <span style="color:#ae81ff">325888.80723224004</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageLimitCost&#34;</span>: <span style="color:#ae81ff">930.4165497908426</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageUsage&#34;</span>: <span style="color:#ae81ff">260.05386312757275</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageDiscountedCost&#34;</span>: <span style="color:#ae81ff">5527.065766508991</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;storageActualCost&#34;</span>: <span style="color:#ae81ff">589.8840784941499</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h3 id="query-node-cost-decomposition">Query node cost decomposition</h3>
<blockquote>
<p>TBD</p>
</blockquote>
<h2 id="container-cost-api">Container Cost API</h2>
<h3 id="query-container-cost">Query container cost</h3>
<p>Endpoint: /api/cost</p>
<h4 id="example-1-query-the-container-cost-in-the-past-hour">Example 1: Query the container cost in the past hour</h4>
<p>The request is as follows:</p>
<pre tabindex="0"><code>${HOST}/api/cost?window=1h
</code></pre><p>The response is as follows, where <code>test1/kube-system/kube-state-metrics-678c95bd66-zpxhr/kube-state-metrics/d222ea5b968281735981465d393dc140fae2fa6c82bca4ce7b0551094542b6cc</code> is the container key, which can uniquely locate the container in the cluster, and its cluster is <code>test1 </code>,name The space is <code>kube-system</code>, the Pod is <code>kube-state-metrics-678c95bd66-zpxhr</code>, the container name is <code>kube-state-metrics</code>, and the container ID is <code>d222ea5b968281735981465d393dc140fae2fa6c82bca4ce7b0551094542b6cc</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;test1/kube-system/kube-state-metrics-678c95bd66-zpxhr/kube-state-metrics/d222ea5b968281735981465d393dc140fae2fa6c82bca4ce7b0551094542b6cc&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;window&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-21T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-22T00:00:00+08:00&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-21T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-22T00:00:00+08:00&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cpuCoreHours&#34;</span>: <span style="color:#ae81ff">0.0006655009861111111</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cpuCoreUsageAverage&#34;</span>: <span style="color:#ae81ff">0.0006655009861111111</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cpuUsage&#34;</span>: <span style="color:#ae81ff">0.00018150026893939394</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;memoryByteHours&#34;</span>: <span style="color:#ae81ff">30465849.806451615</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;memoryByteUsageAverage&#34;</span>: <span style="color:#ae81ff">30465849.806451615</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;memoryUsage&#34;</span>: <span style="color:#ae81ff">0.0025794121526902724</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;networkTransferBytes&#34;</span>: <span style="color:#ae81ff">155958130.4459916</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;networkReceiveBytes&#34;</span>: <span style="color:#ae81ff">7025546.93011364</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;networkUsage&#34;</span>: <span style="color:#ae81ff">0.12143230242737027</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">]</span>
</span></span></code></pre></div><h4 id="example-2-query-costs-for-the-past-1-hour-and-aggregate-by-namespace">Example 2: Query costs for the past 1 hour and aggregate by namespace</h4>
<p>The request is as follows, <code>aggregate=cluster,namespace</code> means aggregation according to the two dimensions of cluster <code>cluster</code> and namespace <code>namespace</code>.</p>
<pre tabindex="0"><code>${HOST}/api/cost?window=1h&amp;aggregate=cluster,namespace
</code></pre><p>The response is as follows, expressed in the form of key-value pairs, where <code>test1/default</code> and <code>test1/wiseinf-system</code> are the aggregated cluster and namespace composition (for example, <code>test1/wiseinf-system</code> means that the cluster is <code>test1</code>, the namespace is <code>wiseinf-system</code>), its value is the query time window and the cost of CPU, memory, storage, and network.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;test1/default&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;window&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-16T03:12:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-17T03:12:00Z&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-16T03:12:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-17T03:12:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuCoreHours&#34;</span>: <span style="color:#ae81ff">110.37890957267645</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuCoreUsageAverage&#34;</span>: <span style="color:#ae81ff">4.599121232194852</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuUsage&#34;</span>: <span style="color:#ae81ff">14.534367730634747</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuDiscountedCost&#34;</span>: <span style="color:#ae81ff">5.087019014821965</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryByteHours&#34;</span>: <span style="color:#ae81ff">855736964377.1166</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">35655706849.04652</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryUsage&#34;</span>: <span style="color:#ae81ff">16.161382539369775</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryDiscountedCost&#34;</span>: <span style="color:#ae81ff">5.656134320229584</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageByteHours&#34;</span>: <span style="color:#ae81ff">71415669997.57649</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">2975652916.565687</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageUsage&#34;</span>: <span style="color:#ae81ff">0.03335223778525009</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.8787704581851865</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;networkTransferBytes&#34;</span>: <span style="color:#ae81ff">1719133463220.9966</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;networkReceiveBytes&#34;</span>: <span style="color:#ae81ff">5342028979687.877</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;networkUsage&#34;</span>: <span style="color:#ae81ff">1436.257368277605</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;test1/wiseinf-system&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;window&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-16T03:12:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-17T03:12:00Z&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;start&#34;</span>: <span style="color:#e6db74">&#34;2023-05-16T03:12:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;end&#34;</span>: <span style="color:#e6db74">&#34;2023-05-17T03:12:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuCoreHours&#34;</span>: <span style="color:#ae81ff">0.473797171047238</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuCoreUsageAverage&#34;</span>: <span style="color:#ae81ff">0.01974154879363492</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuUsage&#34;</span>: <span style="color:#ae81ff">0.08657493662239153</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;cpuDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.030290465709544856</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryByteHours&#34;</span>: <span style="color:#ae81ff">74778025427.29366</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">3115751059.4705696</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryUsage&#34;</span>: <span style="color:#ae81ff">1.4158569605645943</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;memoryDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.4953997082063547</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageByteHours&#34;</span>: <span style="color:#ae81ff">1515201139.4631371</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageBytesUsageAverage&#34;</span>: <span style="color:#ae81ff">63133380.81096403</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageUsage&#34;</span>: <span style="color:#ae81ff">0.0011343806651708506</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;storageDiscountedCost&#34;</span>: <span style="color:#ae81ff">0.06193233856164118</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;networkTransferBytes&#34;</span>: <span style="color:#ae81ff">11732534100151.451</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;networkReceiveBytes&#34;</span>: <span style="color:#ae81ff">15567186905652.652</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&#34;networkUsage&#34;</span>: <span style="color:#ae81ff">7666.392896312047</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div>
</div>
</div>


  
  
  
  

  
  

  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="帮助和支持" aria-label="帮助和支持">
    <a class="text-white" target="_blank" rel="noopener" href="mailto:help@wiseinf.com?subject=%e5%b8%ae%e5%8a%a9%e5%92%8c%e6%94%af%e6%8c%81" aria-label="帮助和支持">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="商务合作" aria-label="商务合作">
    <a class="text-white" target="_blank" rel="noopener" href="mailto:business@wiseinf.com?subject=%e5%95%86%e5%8a%a1%e5%90%88%e4%bd%9c" aria-label="商务合作">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="网站源码" aria-label="网站源码">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/wiseinf/wiseinf.github.io" aria-label="网站源码">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2024 Wiseinf Inc. All Rights Reserved</small>
        
        
        
	
		<p class="mt-2"><a href="/about/">About Us</a></p>
	
      </div>
    </div>
  </div>
</footer>

    </div>
    
<script src="/local/cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="/local/stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>











<script src="/js/main.min.604e1b596f799449dffc6f056b597a5d8c1bfedb73f2844175ff85802887b69d.js" integrity="sha256-YE4bWW95lEnf/G8Fa1l6XYwb/ttz8oRBdf&#43;FgCiHtp0=" crossorigin="anonymous"></script>




  </body>
</html>
